<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="../../template.xhtml">
	<ui:define name="menu">
		<ui:include src="../menu.xhtml" />
	</ui:define>
	<ui:define name="content">
		<h:form id="frmManager" style="overflow: visible">
			<p:growl id="growl" showDetail="true" showSummary="false"
				globalOnly="true" life="5000" />
			<p:dataTable id="table" widgetVar="list" var="preFellingSurvey"
				value="#{preFellingSurveyMBean.preFellingSurveys}" reflow="true"
				emptyMessage="Tiada sesi bancian direkodkan."
				paginator="#{preFellingSurveyMBean.preFellingSurveys.size() gt 20}"
				rows="30" rowsPerPageTemplate="10,30,50,100"
				paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				currentPageReportTemplate="({currentPage} dari {totalPages})"
				rowExpandMode="single">
				<f:facet name="header">
					<table>
						<tr>
							<td style="border: 0px; text-align: left; padding: 8px 0px;">
								<p:selectOneMenu id="yearRange"
									value="#{preFellingSurveyMBean.selectedYearRange}"
									required="true" requiredMessage="Sila pilih tahun."
									filter="true" filterMatchMode="contains"
									styleClass="table-filter">
									<f:selectItem itemLabel="- pilih tahun -" itemValue="#{null}" />
									<f:selectItems value="#{preFellingSurveyMBean.yearList}" />
									<p:ajax update="frmManager :frmUpload" event="change"
										listener="#{preFellingSurveyMBean.handleYearChange}" />
								</p:selectOneMenu>
							</td>
							<td style="border: 0px; text-align: right; padding: 8px 0px;"><p:commandButton
									value="Muat naik sesi bancian" icon="ui-icon-file-upload"
									oncomplete="PF('popupUpload').show()" process="@this"
									styleClass="secondary flat"
									rendered="#{preFellingSurveyMBean.accessLevel gt 1 and preFellingSurveyMBean.accessLevel lt 7}">
									<p:resetInput target=":frmUpload" />
								</p:commandButton> <p:menuButton value="Tambah sesi bancian" iconPos="right"
									styleClass="secondary flat"
									rendered="#{preFellingSurveyMBean.accessLevel lt 2 or preFellingSurveyMBean.accessLevel == 7}">
									<p:menuitem value="Dengan kerja luar" icon="ui-icon-add-circle"
										update=":frmEntry"
										action="#{preFellingSurveyMBean.handleOpen}"
										oncomplete="PF('popup').show()" process="@this">
										<f:setPropertyActionListener value="true"
											target="#{preFellingSurveyMBean.addOperation}" />
										<f:setPropertyActionListener value="popup"
											target="#{preFellingSurveyMBean.popupName}" />
										<p:resetInput target=":frmEntry" />
									</p:menuitem>
									<p:menuitem value="Tanpa kerja luar"
										icon="ui-icon-add-circle-outline" update=":frmEntryBypass"
										action="#{preFellingSurveyMBean.handleOpenBypass}"
										oncomplete="PF('popupBypass').show()" process="@this">
										<p:resetInput target=":frmEntryBypass" />
									</p:menuitem>
								</p:menuButton></td>
						</tr>
					</table>
				</f:facet>
				<p:column styleClass="row-toggler-column">
					<p:rowToggler />
				</p:column>
				<p:column headerText="Hutan Simpan"
					sortBy="#{preFellingSurvey.forestName}"
					filterBy="#{preFellingSurvey.forestID}" filterMatchMode="exact">
					<f:facet name="filter">
						<p:selectOneMenu onchange="PF('list').filter()" filter="true">
							<f:selectItem itemLabel="Semua hutan simpan" itemValue="" />
							<f:selectItems value="#{preFellingSurveyMBean.forestList}" />
						</p:selectOneMenu>
					</f:facet>
					<h:outputText value="#{preFellingSurvey.forestName}" />
				</p:column>
				<p:column headerText="No. Kompatmen/Blok"
					sortBy="#{preFellingSurvey.comptBlockNo}"
					filterBy="#{preFellingSurvey.comptBlockNo}"
					filterMatchMode="contains">
					<h:outputText value="#{preFellingSurvey.comptBlockNo}" />
				</p:column>
				<p:column headerText="Keluasan" sortBy="#{preFellingSurvey.area}"
					filterBy="#{preFellingSurvey.area}" filterMatchMode="contains">
					<h:outputText value="#{preFellingSurvey.area} ha" />
				</p:column>
				<p:column headerText="Tahun" sortBy="#{preFellingSurvey.year}"
					filterBy="#{preFellingSurvey.year}" filterMatchMode="contains">
					<h:outputText value="#{preFellingSurvey.year}" />
				</p:column>
				<p:column headerText="Tarikh Kerja"
					sortBy="#{preFellingSurvey.startDate}"
					filterBy="#{preFellingSurvey.startDate} #{preFellingSurvey.endDate}"
					filterMatchMode="contains">
					<p:outputPanel rendered="#{preFellingSurvey.startDate != null}">
						<h:outputText value="#{preFellingSurvey.startDate}">
							<f:converter converterId="dateConverter" />
						</h:outputText>
						-
						<h:outputText value="#{preFellingSurvey.endDate}">
							<f:converter converterId="dateConverter" />
						</h:outputText>
					</p:outputPanel>
					<h:outputText value="Belum ditentukan"
						rendered="#{preFellingSurvey.startDate == null}" />
				</p:column>
				<p:column headerText="Status" sortBy="#{preFellingSurvey.open}"
					filterBy="#{preFellingSurvey.open}" filterMatchMode="contains">
					<f:facet name="filter">
						<p:selectOneMenu onchange="PF('list').filter()">
							<f:selectItem itemLabel="- pilih status -" itemValue="" />
							<f:selectItem itemLabel="Buka" itemValue="true" />
							<f:selectItem itemLabel="Tutup" itemValue="false" />
						</p:selectOneMenu>
					</f:facet>
					<h:outputText value="#{preFellingSurvey.open ? 'Buka' : 'Tutup'}" />
				</p:column>
				<p:column headerText="Pilihan" style="text-align: center"
					rendered="#{preFellingSurveyMBean.accessLevel lt 6}">
					<p:menuButton value="Pilihan" iconPos="right"
						rendered="#{preFellingSurveyMBean.accessLevel != 3 and preFellingSurveyMBean.accessLevel != 5 or preFellingSurveyMBean.accessLevel == 3 and preFellingSurvey.rangeID != 0 or preFellingSurveyMBean.accessLevel == 5 and preFellingSurvey.teamLeaderID == userMBean.user.staffID}">
						<p:menuitem value="Kemaskini sesi bancian" icon="ui-icon-edit"
							update=":frmEntry" action="#{preFellingSurveyMBean.handleOpen}"
							oncomplete="PF('popup').show()" process="@this"
							rendered="#{preFellingSurveyMBean.accessLevel lt 2 and not preFellingSurvey.taggingCreated}">
							<f:setPropertyActionListener value="false"
								target="#{preFellingSurveyMBean.addOperation}" />
							<f:setPropertyActionListener value="#{preFellingSurvey}"
								target="#{preFellingSurveyMBean.preFellingSurvey}" />
							<f:setPropertyActionListener value="popup"
								target="#{preFellingSurveyMBean.popupName}" />
							<p:resetInput target=":frmEntry" />
						</p:menuitem>
						<p:menuitem value="Kemaskini sesi bancian" icon="ui-icon-edit"
							update=":frmEntrySub"
							action="#{preFellingSurveyMBean.handleOpen}"
							oncomplete="PF('popup').show()" process="@this"
							rendered="#{(preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 4) and preFellingSurvey.open}">
							<f:setPropertyActionListener value="false"
								target="#{preFellingSurveyMBean.addOperation}" />
							<f:setPropertyActionListener value="#{preFellingSurvey}"
								target="#{preFellingSurveyMBean.preFellingSurvey}" />
							<f:setPropertyActionListener value="popup"
								target="#{preFellingSurveyMBean.popupName}" />
							<p:resetInput target=":frmEntrySub" />
						</p:menuitem>
						<p:menuitem value="Kemaskini pegawai rekod kod"
							icon="ui-icon-group" update=":frmEntryStaff"
							action="#{preFellingSurveyMBean.handleOpenConfig}"
							oncomplete="PF('#{preFellingSurveyMBean.accessLevel == 4 ? 'popupStaff' : 'popup'}').show()"
							process="@this"
							rendered="#{preFellingSurvey.open and preFellingSurvey.teamLeaderID == userMBean.user.staffID}">
							<f:setPropertyActionListener value="false"
								target="#{preFellingSurveyMBean.addOperation}" />
							<f:setPropertyActionListener value="#{preFellingSurvey}"
								target="#{preFellingSurveyMBean.preFellingSurvey}" />
							<f:setPropertyActionListener
								value="#{preFellingSurveyMBean.accessLevel == 4 ? 'popupStaff' : 'popup'}"
								target="#{preFellingSurveyMBean.popupName}" />
							<p:resetInput target=":frmEntryStaff" />
						</p:menuitem>
						<p:menuitem value="Muat naik pelan kerja"
							icon="ui-icon-file-upload" oncomplete="PF('popupUpload2').show()"
							process="@this"
							rendered="#{preFellingSurvey.open and (preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 3)}">
							<f:setPropertyActionListener value="#{preFellingSurvey}"
								target="#{preFellingSurveyMBean.preFellingSurvey}" />
							<p:resetInput target=":frmUpload2" />
						</p:menuitem>
						<p:menuitem value="Muat naik peta stok" icon="ui-icon-file-upload"
							oncomplete="PF('popupUpload3').show()" process="@this"
							rendered="#{preFellingSurvey.open and (preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 3)}">
							<f:setPropertyActionListener value="#{preFellingSurvey}"
								target="#{preFellingSurveyMBean.preFellingSurvey}" />
							<p:resetInput target=":frmUpload3" />
						</p:menuitem>
						<p:menuitem
							value="Muat turun surat #{preFellingSurvey.open ? 'buka' : 'tutup'} sesi bancian"
							icon="ui-icon-picture-as-pdf" ajax="false"
							rendered="#{preFellingSurveyMBean.accessLevel lt 3}">
							<p:fileDownload
								value="#{preFellingSurveyMBean.download(preFellingSurvey, 1)}" />
						</p:menuitem>
						<p:menuitem value="Muat turun surat kerja sesi bancian"
							icon="ui-icon-picture-as-pdf" ajax="false"
							rendered="#{(preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 3 or preFellingSurveyMBean.accessLevel == 4) and preFellingSurvey.rangeID != 0 and preFellingSurvey.tenderNo == null}">
							<p:fileDownload
								value="#{preFellingSurveyMBean.download(preFellingSurvey, 2)}" />
						</p:menuitem>
						<p:menuitem value="Muat turun surat lantikan ketua pasukan"
							icon="ui-icon-picture-as-pdf" ajax="false"
							rendered="#{preFellingSurveyMBean.accessLevel == 4 and preFellingSurvey.teamLeaderID != null or preFellingSurvey.teamLeaderID == userMBean.user.staffID}">
							<p:fileDownload
								value="#{preFellingSurveyMBean.download(preFellingSurvey, 3)}" />
						</p:menuitem>
						<p:menuitem value="Muat turun memo penetapan had batas tebangan"
							icon="ui-icon-picture-as-pdf" ajax="false"
							rendered="#{preFellingSurveyMBean.accessLevel lt 2 and preFellingSurvey.recommended}">
							<p:fileDownload
								value="#{preFellingSurveyMBean.download(preFellingSurvey, 4)}" />
						</p:menuitem>
						<p:menuitem value="Muat turun sesi bancian"
							icon="ui-icon-file-download" ajax="false"
							rendered="#{preFellingSurveyMBean.accessLevel lt 2 or (preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 3) and preFellingSurvey.rangeID != 0 and preFellingSurvey.planUploaded or preFellingSurveyMBean.accessLevel == 4 and preFellingSurvey.teamLeaderID != null or preFellingSurveyMBean.accessLevel == 5 and preFellingSurvey.teamLeaderID == userMBean.user.staffID and not empty preFellingSurvey.recorders}">
							<p:fileDownload
								value="#{preFellingSurveyMBean.download(preFellingSurvey, 0)}" />
						</p:menuitem>
					</p:menuButton>
					<h:outputText value="Tiada pilihan tersedia"
						rendered="#{preFellingSurveyMBean.accessLevel == 3 and preFellingSurvey.rangeID == 0 or preFellingSurveyMBean.accessLevel == 5 and preFellingSurvey.teamLeaderID != userMBean.user.staffID}" />
				</p:column>
				<p:rowExpansion>
					<div class="ui-g-12 ui-md-12">
						<p:fieldset style="background-color: white">
							<p:panelGrid id="grid" columns="2" cellpadding="5" layout="grid"
								styleClass="ui-fluid ui-panelgrid-blank form-group"
								columnClasses="ui-grid-col-3,ui-grid-col-9">
								<p:outputLabel value="Daerah hutan:" />
								<p:outputLabel value="#{preFellingSurvey.districtName}" />
								<p:outputLabel value="Renj hutan:" />
								<p:outputLabel
									value="#{preFellingSurvey.rangeID != 0 ? preFellingSurvey.rangeName : 'Belum ditentukan'}" />
								<p:outputLabel value="Ketua pasukan:"
									rendered="#{preFellingSurvey.tenderNo == null}" />
								<p:outputLabel
									value="#{preFellingSurvey.teamLeaderID != null ? preFellingSurvey.teamLeaderName : 'Belum ditentukan'}"
									rendered="#{preFellingSurvey.tenderNo == null}" />
								<p:outputLabel value="Pegawai rekod kod:"
									rendered="#{preFellingSurvey.tenderNo == null}" />
								<p:outputLabel value="Belum ditentukan"
									rendered="#{preFellingSurvey.tenderNo == null and empty preFellingSurvey.recorders}" />
								<p:repeat value="#{preFellingSurvey.recorders}" var="recorder"
									rendered="#{preFellingSurvey.tenderNo == null and not empty preFellingSurvey.recorders}">
									<p:outputLabel value="#{recorder.name}" />
									<br />
								</p:repeat>
								<p:outputLabel value="No. sebut harga:"
									rendered="#{preFellingSurvey.tenderNo != null}" />
								<p:outputLabel value="#{preFellingSurvey.tenderNo}"
									rendered="#{preFellingSurvey.tenderNo != null}" />
								<p:outputLabel value="Had tebangan dipterokarp:"
									rendered="#{not preFellingSurvey.open}" />
								<p:outputLabel value="#{preFellingSurvey.dipterocarpLimit} cm"
									rendered="#{not preFellingSurvey.open}" />
								<p:outputLabel value="Had tebangan bukan dipterokarp:"
									rendered="#{not preFellingSurvey.open}" />
								<p:outputLabel
									value="#{preFellingSurvey.nonDipterocarpLimit} cm"
									rendered="#{not preFellingSurvey.open}" />
								<p:outputLabel value="Pelan kerja:"
									rendered="#{preFellingSurvey.planUploaded}" />
								<p:button value="Lihat pelan kerja"
									href="../files/pre-f/pelan_#{preFellingSurvey.preFellingSurveyID}.png"
									target="_blank" rendered="#{preFellingSurvey.planUploaded}" />
								<p:outputLabel value="Peta stok:"
									rendered="#{preFellingSurvey.stockUploaded}" />
								<p:button value="Lihat peta stok"
									href="../files/pre-f/stok_#{preFellingSurvey.preFellingSurveyID}.png"
									target="_blank" rendered="#{preFellingSurvey.stockUploaded}" />
							</p:panelGrid>
						</p:fieldset>
					</div>
				</p:rowExpansion>
				<f:facet name="footer">#{preFellingSurveyMBean.preFellingSurveys.size()} sesi bancian direkodkan.</f:facet>
			</p:dataTable>
		</h:form>
	</ui:define>
	<ui:define name="dialog">
		<h:form id="frmEntry">
			<p:dialog id="popup" widgetVar="popup" modal="true" responsive="true"
				resizable="false" draggable="false" closable="false"
				showHeader="false" showEffect="fade" hideEffect="fade" width="90%"
				rendered="#{preFellingSurveyMBean.accessLevel lt 2}">
				<p:messages id="messages" showDetail="true" showSummary="false"
					life="5000" redisplay="false" />
				<p:tabView id="accordion" widgetVar="accordion"
					onTabShow="PF('popup').initPosition()"
					onTabChange="PF('popup').initPosition()"
					onTabClose="PF('popup').initPosition()">
					<p:tab title="Maklumat Asas">
						<p:panelGrid columns="2" cellpadding="5" layout="grid"
							styleClass="ui-fluid ui-panelgrid-blank form-group"
							columnClasses="ui-grid-col-3,ui-grid-col-9">
							<p:outputLabel for="forestID" value="Hutan simpan:"
								rendered="#{userMBean.user.stateID != 0}" />
							<p:selectOneMenu id="forestID"
								value="#{preFellingSurveyMBean.preFellingSurvey.forestID}"
								required="true" requiredMessage="Hutan simpan diperlukan."
								filter="true" filterMatchMode="contains"
								onchange="PF('popup').initPosition()"
								rendered="#{preFellingSurveyMBean.preFellingSurvey != null and userMBean.user.stateID != 0}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<f:selectItem itemLabel="- pilih hutan simpan -"
									itemValue="#{null}" />
								<f:selectItems value="#{preFellingSurveyMBean.forestList}" />
							</p:selectOneMenu>
							<p:outputLabel for="forestIDAdmin" value="Hutan simpan:"
								rendered="#{userMBean.user.stateID == 0}" />
							<p:selectOneMenu id="forestIDAdmin"
								value="#{preFellingSurveyMBean.preFellingSurvey.forestID}"
								required="true" requiredMessage="Hutan simpan diperlukan."
								filter="true" filterMatchMode="contains"
								onchange="PF('popup').initPosition()"
								rendered="#{preFellingSurveyMBean.preFellingSurvey != null and userMBean.user.stateID == 0}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<f:selectItem itemLabel="- pilih hutan simpan -"
									itemValue="#{null}" />
								<f:selectItems value="#{preFellingSurveyMBean.forestList}" />
								<p:ajax update="frmManager" event="change"
									listener="#{preFellingSurveyMBean.handleForestIDChange}" />
							</p:selectOneMenu>
							<p:outputLabel for="comptBlockNo" value="No. kompatmen/blok:" />
							<p:inputText id="comptBlockNo"
								value="#{preFellingSurveyMBean.preFellingSurvey.comptBlockNo}"
								required="true" requiredMessage="No. kompatmen/blok diperlukan."
								validatorMessage="No. kompatmen/blok mestilah 20 aksara dan ke bawah."
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<f:validateLength maximum="20" />
								<p:clientValidator />
							</p:inputText>
							<p:outputLabel for="area" value="Keluasan:" />
							<p:inputNumber id="area"
								value="#{preFellingSurveyMBean.preFellingSurvey.area}"
								required="true" requiredMessage="Keluasan diperlukan."
								symbol=" ha" symbolPosition="s"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<p:clientValidator />
							</p:inputNumber>
							<p:outputLabel for="year" value="Tahun:" />
							<p:inputNumber id="year"
								value="#{preFellingSurveyMBean.preFellingSurvey.year}"
								required="true" requiredMessage="Tahun diperlukan."
								decimalPlaces="0" decimalSeparator="" thousandSeparator=""
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<p:clientValidator />
							</p:inputNumber>
							<p:outputLabel for="startDate" value="Tarikh mula:"
								rendered="#{preFellingSurveyMBean.accessLevel == 0}" />
							<p:calendar id="startDate" pattern="dd/MM/yyyy"
								value="#{preFellingSurveyMBean.preFellingSurvey.startDate}"
								required="true" requiredMessage="Tarikh mula diperlukan"
								readonlyInput="true"
								rendered="#{preFellingSurveyMBean.accessLevel == 0}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<p:ajax event="dateSelect" update="endDate"
									listener="#{preFellingSurveyMBean.doNothing}" />
							</p:calendar>
							<p:outputLabel for="endDate" value="Tarikh tamat:"
								rendered="#{preFellingSurveyMBean.accessLevel == 0}" />
							<p:calendar id="endDate" pattern="dd/MM/yyyy"
								value="#{preFellingSurveyMBean.preFellingSurvey.endDate}"
								required="true" requiredMessage="Tarikh tamat diperlukan"
								readonlyInput="true"
								mindate="#{preFellingSurveyMBean.preFellingSurvey.startDate}"
								rendered="#{preFellingSurveyMBean.accessLevel == 0}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}" />
							<p:outputLabel for="status" value="Status:"
								rendered="#{not preFellingSurveyMBean.addOperation and preFellingSurveyMBean.preFellingSurvey.startDate != null}" />
							<p:selectOneRadio id="status"
								value="#{preFellingSurveyMBean.preFellingSurvey.open}"
								required="true" requiredMessage="Status diperlukan."
								rendered="#{not preFellingSurveyMBean.addOperation and preFellingSurveyMBean.preFellingSurvey.startDate != null}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<f:selectItem itemLabel="Buka" itemValue="true" />
								<f:selectItem itemLabel="Tutup" itemValue="false" />
								<p:ajax listener="#{preFellingSurveyMBean.prepareClose}"
									update="accordion" oncomplete="PF('popup').initPosition()" />
							</p:selectOneRadio>
						</p:panelGrid>
					</p:tab>
					<p:tab title="Maklumat Kontraktor"
						rendered="#{preFellingSurveyMBean.preFellingSurvey.open}">
						<p:panelGrid columns="2" cellpadding="5" layout="grid"
							styleClass="ui-fluid ui-panelgrid-blank form-group"
							columnClasses="ui-grid-col-3,ui-grid-col-9">
							<p:outputLabel for="tenderNo" value="No. sebut harga:" />
							<p:selectOneMenu id="tenderNo"
								value="#{preFellingSurveyMBean.preFellingSurvey.tenderNo}"
								filter="true" filterMatchMode="contains"
								onchange="PF('popup').initPosition()"
								rendered="#{preFellingSurveyMBean.preFellingSurvey != null}"
								immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}">
								<f:selectItem itemLabel="- pilih no. sebut harga -"
									itemValue="#{null}" />
								<f:selectItems value="#{preFellingSurveyMBean.tenders}"
									var="tender"
									itemLabel="#{tender.tenderNo} - #{tender.contractorName}"
									itemValue="#{staff.tenderNo}" />
							</p:selectOneMenu>
						</p:panelGrid>
					</p:tab>
					<p:tab title="Maklumat Had Tebangan"
						rendered="#{not preFellingSurveyMBean.preFellingSurvey.open and preFellingSurveyMBean.preFellingSurvey.startDate != null}">
						<p:dataTable var="preFellingCuttingOption"
							value="#{preFellingSurveyMBean.preFellingSurvey.preFellingReport.preFellingCuttingOptions}"
							selection="#{preFellingSurveyMBean.preFellingSurvey.preFellingCuttingOption}"
							rowKey="#{preFellingCuttingOption.cuttingOptionID}"
							rowStyleClass="#{preFellingCuttingOption.rank == 0 ? null : 'recommended'}"
							emptyMessage="Tiada opsyen had tebangan tersedia."
							scrollable="true" scrollHeight="200">
							<f:facet name="header">Opsyen Had Tebangan</f:facet>
							<p:ajax event="rowSelectRadio" />
							<p:columnGroup type="header">
								<p:row>
									<p:column rowspan="3" style="text-align: center"
										styleClass="selection-column" />
									<p:column rowspan="2" colspan="2"
										headerText="Opsyen Had Tebangan (cm)" />
									<p:column rowspan="2" colspan="3"
										headerText="Pengeluaran Isipadu Bersih Sehektar (m&#x00B3;)" />
									<p:column rowspan="2" colspan="4"
										headerText="Pokok Tebangan Sehektar (Bilangan)" />
									<p:column colspan="8"
										headerText="Bilangan Pokok Bersih Sehektar Dari Kelas Diameter + 30 cm - 45 cm dan Pokok Berdiameter + 45 cm yang Setara Dengannya Dalam Dirian Tinggal (Bilangan)" />
								</p:row>
								<p:row>
									<p:column colspan="4" headerText="Tanpa Pokok + 15 cm - 30 cm" />
									<p:column colspan="4" headerText="Dengan Pokok + 15 cm - 30 cm" />
								</p:row>
								<p:row>
									<p:column headerText="Dipterokarp"
										sortBy="#{preFellingCuttingOption.dipterocarpLimit}"
										styleClass="selection-peer-column" />
									<p:column headerText="Bukan Dipterokarp"
										sortBy="#{preFellingCuttingOption.nonDipterocarpLimit}"
										styleClass="selection-peer-column" />
									<p:column headerText="Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeDipNetVolume}"
										styleClass="selection-peer-column" />
									<p:column headerText="Bukan Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeNonDipNetVolume}"
										styleClass="selection-peer-column" />
									<p:column headerText="Jumlah"
										sortBy="#{preFellingCuttingOption.relativeTotalNetVolume}"
										styleClass="selection-peer-column" />
									<p:column headerText="Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeDipCount}"
										styleClass="selection-peer-column" />
									<p:column headerText="Bukan Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeNonDipCount}"
										styleClass="selection-peer-column" />
									<p:column headerText="Jumlah"
										sortBy="#{preFellingCuttingOption.relativeTotalCount}"
										styleClass="selection-peer-column" />
									<p:column headerText="% Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeTotalCountRatio}"
										styleClass="selection-peer-column" />
									<p:column headerText="Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeDipNetCountPartial}"
										styleClass="selection-peer-column" />
									<p:column headerText="Bukan Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeNonDipNetCountPartial}"
										styleClass="selection-peer-column" />
									<p:column headerText="Jumlah"
										sortBy="#{preFellingCuttingOption.relativeTotalNetCountPartial}"
										styleClass="selection-peer-column" />
									<p:column headerText="% Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeTotalNetCountPartialRatio}"
										styleClass="selection-peer-column" />
									<p:column headerText="Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeDipNetCountAll}"
										styleClass="selection-peer-column" />
									<p:column headerText="Bukan Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeNonDipNetCountAll}"
										styleClass="selection-peer-column" />
									<p:column headerText="Jumlah"
										sortBy="#{preFellingCuttingOption.relativeTotalNetCountAll}"
										styleClass="selection-peer-column" />
									<p:column headerText="% Dipterokarp"
										sortBy="#{preFellingCuttingOption.relativeTotalNetCountAllRatio}"
										styleClass="selection-peer-column" />
								</p:row>
							</p:columnGroup>
							<p:column selectionMode="single" styleClass="selection-column" />
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.dipterocarpLimit}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.nonDipterocarpLimit}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeDipNetVolume}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeNonDipNetVolume}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalNetVolume}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeDipCount}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeNonDipCount}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalCount}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalCountRatio}">
									<f:convertNumber maxFractionDigits="2" type="percent" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeDipNetCountPartial}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeNonDipNetCountPartial}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalNetCountPartial}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalNetCountPartialRatio}">
									<f:convertNumber maxFractionDigits="2" type="percent" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeDipNetCountAll}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeNonDipNetCountAll}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalNetCountAll}">
									<f:convertNumber maxFractionDigits="2" />
								</h:outputText>
							</p:column>
							<p:column styleClass="selection-peer-column">
								<h:outputText
									value="#{preFellingCuttingOption.relativeTotalNetCountAllRatio}">
									<f:convertNumber maxFractionDigits="2" type="percent" />
								</h:outputText>
							</p:column>
						</p:dataTable>
					</p:tab>
					<p:tab title="Maklumat Had Tebangan Lain-lain"
						rendered="#{not preFellingSurveyMBean.preFellingSurvey.open}">
						<p:panelGrid id="otherGrid" columns="2" cellpadding="5"
							layout="grid" styleClass="ui-fluid ui-panelgrid-blank form-group"
							columnClasses="ui-grid-col-3,ui-grid-col-9">
							<p:outputLabel for="speciesID" value="Spesis lain-lain:" />
							<p:selectOneMenu id="speciesID"
								value="#{preFellingSurveyMBean.cuttingLimit.speciesID}"
								required="true" requiredMessage="Spesis lain-lain diperlukan."
								filter="true" filterMatchMode="contains"
								onchange="PF('popup').initPosition()"
								rendered="#{preFellingSurveyMBean.preFellingSurvey != null}">
								<f:selectItem itemLabel="- pilih spesis -" itemValue="#{null}" />
								<f:selectItems value="#{preFellingSurveyMBean.speciesList}"
									var="species" itemLabel="#{species}"
									itemValue="#{species.speciesID}" />
							</p:selectOneMenu>
							<p:outputLabel for="minDiameter" value="Had tebangan lain-lain:" />
							<p:inputNumber id="minDiameter"
								value="#{preFellingSurveyMBean.cuttingLimit.minDiameter}"
								required="true"
								requiredMessage="Had tebangan lain-lain diperlukan."
								symbol=" cm" symbolPosition="s">
								<p:clientValidator />
							</p:inputNumber>
						</p:panelGrid>
						<div style="text-align: right">
							<p:commandButton value="Tambah" icon="ui-icon-add"
								update="cuttingLimitList otherGrid frmEntry:messages"
								action="#{preFellingSurveyMBean.handleAddCuttingLimit}"
								oncomplete="PF('popup').initPosition()" />
						</div>
						<p:separator />
						<p:dataTable
							value="#{preFellingSurveyMBean.preFellingSurvey.cuttingLimits}"
							var="cuttingLimit" id="cuttingLimitList"
							emptyMessage="Tiada had tebangan spesis lain-lain direkodkan.">
							<f:facet name="header">Senarai Had Tebangan Lain-lain</f:facet>
							<p:column headerText="Spesis">
								<h:outputText value="#{cuttingLimit.speciesName}" />
							</p:column>
							<p:column headerText="Had Tebangan">
								<h:outputText value="#{cuttingLimit.minDiameter} cm" />
							</p:column>
							<p:column headerText="Pilihan" style="text-align: center">
								<p:commandLink value="Padam"
									update="frmEntry:accordion:cuttingLimitList" process="@this">
									<p:collector value="#{cuttingLimit}"
										removeFrom="#{preFellingSurveyMBean.preFellingSurvey.cuttingLimits}"
										unique="true" />
								</p:commandLink>
							</p:column>
						</p:dataTable>
					</p:tab>
				</p:tabView>
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Hantar" icon="ui-icon-save"
							action="#{preFellingSurveyMBean.preFellingSurveyEntry}"
							update=":frmManager messages" onclick="PF('accordion').select(0)"
							oncomplete="PF('popup').initPosition()" validateClient="true"
							immediate="#{not preFellingSurveyMBean.preFellingSurvey.open}"
							styleClass="save-btn" />
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('accordion').select(0); PF('popup').hide();"
							styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmEntryBypass">
			<p:dialog id="popupBypass" widgetVar="popupBypass" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade"
				hideEffect="fade" width="90%"
				rendered="#{preFellingSurveyMBean.accessLevel lt 2}">
				<p:messages id="messagesBypass" showDetail="true"
					showSummary="false" life="5000" redisplay="false" />
				<p:panelGrid id="grid" columns="2" cellpadding="5" layout="grid"
					styleClass="ui-fluid ui-panelgrid-blank form-group"
					columnClasses="ui-grid-col-3,ui-grid-col-9">
					<p:outputLabel for="forestIDBypass" value="Hutan simpan:" />
					<p:selectOneMenu id="forestIDBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.forestID}"
						required="true" requiredMessage="Hutan simpan diperlukan."
						filter="true" filterMatchMode="contains"
						onchange="PF('popupBypass').initPosition()"
						rendered="#{preFellingSurveyMBean.preFellingSurvey != null}">
						<f:selectItem itemLabel="- pilih hutan simpan -"
							itemValue="#{null}" />
						<f:selectItems value="#{preFellingSurveyMBean.forestList}" />
						<p:ajax update="grid" event="change"
							listener="#{preFellingSurveyMBean.handleForestIDBypassChange}" />
					</p:selectOneMenu>
					<p:outputLabel for="comptBlockNoBypass" value="No. kompatmen/blok:" />
					<p:inputText id="comptBlockNoBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.comptBlockNo}"
						required="true" requiredMessage="No. kompatmen/blok diperlukan."
						validatorMessage="No. kompatmen/blok mestilah 20 aksara dan ke bawah.">
						<f:validateLength maximum="20" />
						<p:clientValidator />
					</p:inputText>
					<p:outputLabel for="areaBypass" value="Keluasan:" />
					<p:inputNumber id="areaBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.area}"
						required="true" requiredMessage="Keluasan diperlukan."
						symbol=" ha" symbolPosition="s">
						<p:clientValidator />
					</p:inputNumber>
					<p:outputLabel for="yearBypass" value="Tahun:" />
					<p:inputNumber id="yearBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.year}"
						required="true" requiredMessage="Tahun diperlukan."
						decimalPlaces="0" decimalSeparator="" thousandSeparator="">
						<p:clientValidator />
					</p:inputNumber>
					<p:outputLabel for="rangeIDBypass" value="Renj hutan:"
						rendered="#{preFellingSurveyMBean.preFellingSurvey.forestID != 0}" />
					<p:selectOneMenu id="rangeIDBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.rangeID}"
						required="true" requiredMessage="Renj hutan diperlukan."
						filter="true" filterMatchMode="contains"
						onchange="PF('popupBypass').initPosition()"
						rendered="#{preFellingSurveyMBean.preFellingSurvey != null and preFellingSurveyMBean.preFellingSurvey.forestID != 0}">
						<f:selectItem itemLabel="- pilih renj hutan -" itemValue="#{null}" />
						<f:selectItems value="#{preFellingSurveyMBean.ranges}" var="range"
							itemLabel="#{range}" itemValue="#{range.rangeID}" />
					</p:selectOneMenu>
					<p:outputLabel for="cuttingOptionIDBypass"
						value="Opsyen had tebangan:" />
					<p:selectOneMenu id="cuttingOptionIDBypass"
						value="#{preFellingSurveyMBean.preFellingSurvey.cuttingOptionID}"
						required="true" requiredMessage="Opsyen had tebangan diperlukan."
						filter="true" filterMatchMode="contains"
						onchange="PF('popupBypass').initPosition()"
						rendered="#{preFellingSurveyMBean.preFellingSurvey != null}">
						<f:selectItem itemLabel="- pilih opsyen had tebangan -"
							itemValue="#{null}" />
						<f:selectItems value="#{preFellingSurveyMBean.cuttingOptions}"
							var="cuttingOption" itemLabel="#{cuttingOption}"
							itemValue="#{cuttingOption.cuttingOptionID}" />
					</p:selectOneMenu>
				</p:panelGrid>
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Hantar" icon="ui-icon-save"
							action="#{preFellingSurveyMBean.preFellingSurveyEntryBypass}"
							update=":frmManager messagesBypass"
							oncomplete="PF('popupBypass').initPosition()"
							validateClient="true" styleClass="save-btn" />
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('popupBypass').hide();" styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmEntrySub">
			<p:dialog id="popupSub" widgetVar="popup" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade"
				hideEffect="fade" width="90%"
				rendered="#{preFellingSurveyMBean.accessLevel == 2 or preFellingSurveyMBean.accessLevel == 4}">
				<p:messages id="messages" showDetail="true" showSummary="false"
					life="5000" redisplay="false" />
				<p:panelGrid columns="2" cellpadding="5" layout="grid"
					styleClass="ui-fluid ui-panelgrid-blank form-group"
					columnClasses="ui-grid-col-3,ui-grid-col-9"
					rendered="#{preFellingSurveyMBean.accessLevel == 2}">
					<p:outputLabel for="rangeID" value="Renj hutan:" />
					<p:selectOneMenu id="rangeID"
						value="#{preFellingSurveyMBean.preFellingSurvey.rangeID}"
						required="true" requiredMessage="Renj hutan diperlukan."
						filter="true" filterMatchMode="contains"
						onchange="PF('popup').initPosition()"
						rendered="#{preFellingSurveyMBean.preFellingSurvey != null}">
						<f:selectItem itemLabel="- pilih renj hutan -" itemValue="#{null}" />
						<f:selectItems value="#{preFellingSurveyMBean.ranges}" var="range"
							itemLabel="#{range}" itemValue="#{range.rangeID}" />
					</p:selectOneMenu>
					<p:outputLabel for="startDate" value="Tarikh mula:"
						rendered="#{preFellingSurveyMBean.accessLevel == 2}" />
					<p:calendar id="startDate" pattern="dd/MM/yyyy"
						value="#{preFellingSurveyMBean.preFellingSurvey.startDate}"
						required="true" requiredMessage="Tarikh mula diperlukan"
						readonlyInput="true"
						rendered="#{preFellingSurveyMBean.accessLevel == 2}">
						<p:ajax event="dateSelect" update="endDate"
							listener="#{preFellingSurveyMBean.doNothing}" />
					</p:calendar>
					<p:outputLabel for="endDate" value="Tarikh tamat:"
						rendered="#{preFellingSurveyMBean.accessLevel == 2}" />
					<p:calendar id="endDate" pattern="dd/MM/yyyy"
						value="#{preFellingSurveyMBean.preFellingSurvey.endDate}"
						required="true" requiredMessage="Tarikh tamat diperlukan"
						readonlyInput="true"
						mindate="#{preFellingSurveyMBean.preFellingSurvey.startDate}"
						rendered="#{preFellingSurveyMBean.accessLevel == 2}" />
				</p:panelGrid>
				<p:panelGrid columns="2" cellpadding="5" layout="grid"
					styleClass="ui-fluid ui-panelgrid-blank form-group"
					columnClasses="ui-grid-col-3,ui-grid-col-9"
					rendered="#{preFellingSurveyMBean.accessLevel == 4}">
					<p:outputLabel for="teamLeaderID" value="Ketua pasukan:" />
					<p:selectOneMenu id="teamLeaderID"
						value="#{preFellingSurveyMBean.preFellingSurvey.teamLeaderID}"
						required="true" requiredMessage="Ketua pasukan diperlukan."
						filter="true" filterMatchMode="contains"
						onchange="PF('popup').initPosition()"
						rendered="#{preFellingSurveyMBean.preFellingSurvey != null}">
						<f:selectItem itemLabel="- pilih ketua pasukan -"
							itemValue="#{null}" />
						<f:selectItems value="#{preFellingSurveyMBean.staffList}" />
					</p:selectOneMenu>
				</p:panelGrid>
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Hantar" icon="ui-icon-save"
							action="#{preFellingSurveyMBean.preFellingSurveyEntry}"
							update=":frmManager messages"
							oncomplete="PF('popup').initPosition()" validateClient="true"
							styleClass="save-btn" />
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('popup').hide()" styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmEntryStaff">
			<p:dialog id="popupStaff"
				widgetVar="#{preFellingSurveyMBean.popupName}" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade" width="90%"
				rendered="#{preFellingSurveyMBean.preFellingSurvey != null and preFellingSurveyMBean.preFellingSurvey.teamLeaderID == userMBean.user.staffID}">
				<p:messages id="messagesStaff" showDetail="true" showSummary="false"
					life="5000" redisplay="false" />
				<p:scrollPanel style="max-height: 400px; border: none;">
					<p:selectManyCheckbox id="staffList"
						value="#{preFellingSurveyMBean.selectedStaffs}"
						layout="pageDirection" columns="1" required="true"
						requiredMessage="Sila pilih pegawai rekod kod.">
						<f:selectItems value="#{preFellingSurveyMBean.staffList}" />
					</p:selectManyCheckbox>
				</p:scrollPanel>
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Hantar" icon="ui-icon-save"
							action="#{preFellingSurveyMBean.preFellingSurveyEntry}"
							update=":frmManager messagesStaff"
							oncomplete="PF('#{preFellingSurveyMBean.popupName}').initPosition()"
							validateClient="true" styleClass="save-btn" />
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('#{preFellingSurveyMBean.popupName}').hide()"
							styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmUpload" enctype="multipart/form-data">
			<p:dialog id="popupUpload" widgetVar="popupUpload" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade"
				hideEffect="fade" width="90%">
				<p:messages id="messagesUpload" showDetail="true"
					showSummary="false" life="5000" redisplay="false" />
				<p:fileUpload fileUploadListener="#{preFellingSurveyMBean.upload}"
					label="Pilih #{preFellingSurveyMBean.accessLevel == 5 ? 'CSOR atau CSOF' : preFellingSurveyMBean.uptype.toUpperCase()} fail"
					uploadLabel="Muat naik" cancelLabel="Batal"
					fileLimitMessage="Hanya 1 fail sahaja yang dibenarkan untuk dimuat naik"
					invalidFileMessage="Sila hantar fail #{preFellingSurveyMBean.accessLevel == 5 ? 'CSOR atau CSOF' : preFellingSurveyMBean.uptype.toUpperCase()} sahaja"
					fileLimit="1"
					allowTypes="/(\.|\/)(#{preFellingSurveyMBean.uptype})$/i"
					dragDropSupport="true" update=":frmManager messagesUpload @this"
					onstart="PF('popupUpload').initPosition(); PF('loading').show();"
					oncomplete="PF('popupUpload').hide(); PF('loading').hide();"
					onerror="PF('popupUpload').hide(); PF('loading').hide();" />
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('popupUpload').hide()" styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmUpload2" enctype="multipart/form-data">
			<p:dialog id="popupUpload2" widgetVar="popupUpload2" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade"
				hideEffect="fade" width="90%">
				<p:messages id="messagesUpload2" showDetail="true"
					showSummary="false" life="5000" redisplay="false" />
				<p:fileUpload
					fileUploadListener="#{preFellingSurveyMBean.uploadPlan}"
					label="Pilih JPEG atau PNG fail" uploadLabel="Muat naik"
					cancelLabel="Batal"
					fileLimitMessage="Hanya 1 fail sahaja yang dibenarkan untuk dimuat naik"
					invalidFileMessage="Sila hantar fail JPEG atau PNG sahaja"
					fileLimit="1" allowTypes="/(\.|\/)(jpe?g|png)$/i"
					dragDropSupport="true" update=":frmManager messagesUpload2 @this"
					onstart="PF('popupUpload2').initPosition(); PF('loading').show();"
					oncomplete="PF('popupUpload2').hide(); PF('loading').hide();"
					onerror="PF('popupUpload2').hide(); PF('loading').hide();" />
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('popupUpload2').hide()" styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
		<h:form id="frmUpload3" enctype="multipart/form-data">
			<p:dialog id="popupUpload3" widgetVar="popupUpload3" modal="true"
				responsive="true" resizable="false" draggable="false"
				closable="false" showHeader="false" showEffect="fade"
				hideEffect="fade" width="90%">
				<p:messages id="messagesUpload3" showDetail="true"
					showSummary="false" life="5000" redisplay="false" />
				<p:fileUpload
					fileUploadListener="#{preFellingSurveyMBean.uploadStock}"
					label="Pilih JPEG atau PNG fail" uploadLabel="Muat naik"
					cancelLabel="Batal"
					fileLimitMessage="Hanya 1 fail sahaja yang dibenarkan untuk dimuat naik"
					invalidFileMessage="Sila hantar fail JPEG atau PNG sahaja"
					fileLimit="1" allowTypes="/(\.|\/)(jpe?g|png)$/i"
					dragDropSupport="true" update=":frmManager messagesUpload3 @this"
					onstart="PF('popupUpload3').initPosition(); PF('loading').show();"
					oncomplete="PF('popupUpload3').hide(); PF('loading').hide();"
					onerror="PF('popupUpload3').hide(); PF('loading').hide();" />
				<f:facet name="footer">
					<div style="text-align: right; margin: 8px 0px;">
						<p:commandButton value="Tutup" icon="ui-icon-block" type="button"
							onclick="PF('popupUpload3').hide()" styleClass="close-btn" />
					</div>
				</f:facet>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>